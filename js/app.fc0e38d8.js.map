{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?0f16","webpack:///./src/components/Orders.vue?fe21","webpack:///./src/App.vue?5ee1","webpack:///./src/components/VolumeXRateChart.vue?0eae","webpack:///./src/components/Orders.vue?26f9","webpack:///./src/util.js","webpack:///src/components/Orders.vue","webpack:///./src/components/Orders.vue?a8fb","webpack:///./src/components/Orders.vue?6788","webpack:///./src/components/AMM.vue?2d64","webpack:///src/components/AMM.vue","webpack:///./src/components/AMM.vue?221a","webpack:///./src/components/AMM.vue?4d22","webpack:///./src/referentials.js","webpack:///src/components/VolumeXRateChart.vue","webpack:///./src/components/VolumeXRateChart.vue?7e1f","webpack:///./src/components/VolumeXRateChart.vue","webpack:///./src/instance.js","webpack:///src/App.vue","webpack:///./src/App.vue?3359","webpack:///./src/App.vue?2667","webpack:///./src/plugins/vuetify.js","webpack:///./src/main.js","webpack:///./src/components/AMM.vue?9ec3"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","staticStyle","validationErrors","instance","bus","referential","_e","_l","e","idx","_v","_s","stack","model","callback","$$v","expression","on","onInstanceChange","staticRenderFns","ref","maxX","maxY","ordersSellingT2ArgMaxY","ordersSellingT2","amm","ammIsMandatory","bus2","ordersSellingT2Referential","ordersSellingT1ArgMaxY","ordersSellingT1","bus1","ordersSellingT1Referential","marginalXRate","busAMM","style","shade","ammPath","path","orderVertices","v","index","refInFor","$event","dragVertex","verticesToSvgPath","vs","line","d3","props","orders","type","Array","argMaxY","Number","Boolean","color","String","methods","mapAToY","mapYToA","mapPiToX","mapXToPi","mapAMMToX","mapAMMXToY","increasing","mapXToMaxA","cumMaxSellAmount","ymax","x","mapXToMaxY","mapXToMinA","mapAMMXToMinY","mapXToMinY","Math","max","argMinY","pi","curveYHelper","y","includesEnd","endX","curveY","xxIsLog","startX","offsetFn","f","verticesFromOrderIntra","verticesFromOrder","vertices","concat","collectOrdersBeforeX","cmp","strict","filter","pathVertices","findIndex","pt","ammPathVertices","vi","firstOrderX","onMouseUp","draggingVertex","$root","$el","removeEventListener","moveVertex","$emit","addEventListener","minX","orderIdx","min","computed","cssVars","created","destroyed","mounted","watch","component","isDragging","ptSvg","REFERENTIALS","X1Y1","a","b2","b1","X1Y2","X12YV","X2Y1","X2Y2","components","dom2svg","svgP","svg2dom","domP","updateData","balanceT1","balanceT2","k","mandatory","updatedInstance","map","$on","sqrt","newval","orderJsonSchema","id","properties","sellAmount","minimum","buyAmount","exclusiveMinimum","required","instanceJsonSchema","items","$ref","validateInstanceJson","Validator","addSchema","validate","VolumeXRateChart","errors","JSON","stringify","newInstance","VApp","VCol","VContainer","VMain","VRadio","VRadioGroup","VRow","Vue","use","Vuetify","config","productionTip","vuetify","render","h","App","$mount"],"mappings":"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","file":"js/app.fc0e38d8.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/orderbook/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Orders.vue?vue&type=style&index=0&id=ef3c7d4a&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Orders.vue?vue&type=style&index=0&id=ef3c7d4a&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('v-main',[_c('v-container',{staticClass:\"ma-0\",attrs:{\"fill-height\":\"\",\"fluid\":\"\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"8\"}},[_c('v-row',[_c('v-col',{staticClass:\"pt-0 pb-0 pr-0\",staticStyle:{\"height\":\"50vh\"}},[(_vm.validationErrors.length === 0)?_c('volume-x-rate-chart',{attrs:{\"instance\":_vm.instance,\"bus\":_vm.bus,\"referential\":_vm.referential}}):_vm._e(),_vm._l((_vm.validationErrors),function(e,idx){return _c('p',{key:idx},[_vm._v(\" \"+_vm._s(e.stack)+\" \")])})],2)],1),_c('v-row',[_c('v-col',[_c('v-radio-group',{model:{value:(_vm.referential),callback:function ($$v) {_vm.referential=$$v},expression:\"referential\"}},[_c('v-radio',{attrs:{\"label\":\"xx is price of T1, yy is sell amount of T1\",\"value\":\"X1Y1\"}}),_c('v-radio',{attrs:{\"label\":\"xx is price of T1, yy is sell amount of T2\",\"value\":\"X1Y2\"}}),_c('v-radio',{attrs:{\"label\":\"xx is price of T2, yy is sell amount of T1\",\"value\":\"X2Y1\"}}),_c('v-radio',{attrs:{\"label\":\"xx is price of T2, yy is sell amount of T2\",\"value\":\"X2Y2\"}}),_c('v-radio',{attrs:{\"label\":\"xx is xrate [p(T1)/p(T2)], yy is volume [amount of TX * price of TX]\",\"value\":\"X12YV\"}})],1),_c('p',[_vm._v(\"Orders selling T1 are orange, orders selling T2 are blue.\")])],1)],1)],1),_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('vue-json-editor',{attrs:{\"show-btns\":false,\"expandedOnStart\":true,\"mode\":\"form\"},on:{\"json-change\":_vm.onInstanceChange},model:{value:(_vm.instance),callback:function ($$v) {_vm.instance=$$v},expression:\"instance\"}})],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('svg',{ref:\"svgCanvas\",attrs:{\"width\":\"100%\",\"height\":\"100%\",\"viewBox\":(\"0 0 \" + _vm.maxX + \" \" + _vm.maxY),\"transform\":\"scale(1,-1)\",\"preserveAspectRatio\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('rect',{attrs:{\"x\":\"0\",\"y\":\"0\",\"width\":\"100%\",\"height\":\"100%\",\"fill\":\"transparent\",\"stroke\":\"black\",\"vector-effect\":\"non-scaling-stroke\"}}),_c('orders',{ref:\"ordersSellingT2\",attrs:{\"arg-max-y\":_vm.ordersSellingT2ArgMaxY,\"orders\":_vm.ordersSellingT2,\"amm\":_vm.amm,\"amm-is-mandatory\":_vm.ammIsMandatory,\"bus\":_vm.bus2,\"referential\":_vm.ordersSellingT2Referential,\"color\":\"rgb(31,119,180)\"}}),_c('orders',{ref:\"ordersSellingT1\",attrs:{\"arg-max-y\":_vm.ordersSellingT1ArgMaxY,\"orders\":_vm.ordersSellingT1,\"amm\":_vm.amm,\"amm-is-mandatory\":_vm.ammIsMandatory,\"bus\":_vm.bus1,\"referential\":_vm.ordersSellingT1Referential,\"color\":\"rgb(255, 127, 14)\"}}),_c('a-m-m',{ref:\"amm\",attrs:{\"marginal-x-rate\":_vm.marginalXRate,\"bus\":_vm.busAMM}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('g',[_c('path',{staticClass:\"shade\",style:(_vm.cssVars),attrs:{\"d\":_vm.shade()}}),_c('path',{staticClass:\"amm-path\",style:(_vm.cssVars),attrs:{\"d\":_vm.ammPath(),\"vector-effect\":\"non-scaling-stroke\"}}),_c('path',{staticClass:\"path\",style:(_vm.cssVars),attrs:{\"d\":_vm.path()}}),_vm._l((_vm.orderVertices()),function(v,index){return _c('line',{key:index,ref:\"vertices\",refInFor:true,staticClass:\"vertex\",style:(_vm.cssVars),attrs:{\"x1\":v[0],\"y1\":v[1],\"x2\":v[0],\"y2\":v[1],\"vector-effect\":\"non-scaling-stroke\"},on:{\"mousedown\":function($event){return _vm.dragVertex(index, $event)}}})})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport * as d3 from 'd3'\n\nexport function verticesToSvgPath (vs) {\n  var line = d3.line()\n  const r = line(vs)\n  return r\n}\n","<template>\n  <g>\n  <path :d=\"shade()\" class=\"shade\" :style=\"cssVars\"/>\n  <path :d=\"ammPath()\" class=\"amm-path\" vector-effect=\"non-scaling-stroke\" :style=\"cssVars\"/>\n  <path :d=\"path()\" class=\"path\" :style=\"cssVars\"/>\n  <line v-for=\"(v, index) in orderVertices()\" :key=\"index\" ref=\"vertices\"\n    :x1=\"v[0]\" :y1=\"v[1]\" :x2=\"v[0]\" :y2=\"v[1]\"\n    class=\"vertex\"\n    vector-effect=\"non-scaling-stroke\"\n    :style=\"cssVars\"\n    @mousedown=\"dragVertex(index, $event)\"\n  />\n  </g>\n</template>\n\n<script>\n\nimport * as util from '../util.js'\n\n// Dragging can potentially create orders with ymax = 0 which\n// do not make much sense (what is the max xrate then?)\n// and crashes this code.\n// This is a quick workaround:\nconst MIN_YMAX = 1e-5\n\nexport default {\n  name: 'Orders',\n  props: {\n    orders: {\n      type: Array\n    },\n    amm: {\n      type: Object\n    },\n    argMaxY: {\n      type: Number\n    },\n    bus: {\n      type: Object\n    },\n    ammIsMandatory: {\n      type: Boolean\n    },\n    referential: {\n      type: Object\n    },\n    color: {\n      type: String\n    }\n  },\n  methods: {\n    mapAToY (a, x) { return this.referential.mapAToY(a, x) },\n    mapYToA (y, x) { return this.referential.mapYToA(y, x) },\n    mapPiToX (pi) { return this.referential.mapPiToX(pi) },\n    mapXToPi (x) { return this.referential.mapXToPi(x) },\n    mapAMMToX () { return this.referential.mapAMMToX(this.amm) },\n    mapAMMXToY (x) { return this.referential.mapAMMXToY(this.amm, x) },\n    increasing () { return this.referential.increasing },\n    // Maximum amount sold for a given x coord.\n    mapXToMaxA (x, orders) {\n      if (!orders) orders = this.orders\n      let cumMaxSellAmount = 0\n      for (let i = 0; i < orders.length; ++i) {\n        cumMaxSellAmount += orders[i].ymax\n      }\n      return cumMaxSellAmount + this.mapAMMXToY(x)\n    },\n    // Maximum y for a given x coord.\n    mapXToMaxY (x, orders) {\n      return this.mapAToY(this.mapXToMaxA(x, orders), x)\n    },\n    // Minimum amount sold for a given x coord (assuming du=0).\n    mapXToMinA (x, orders) {\n      if (!orders) orders = this.orders\n      let cumMaxSellAmount = 0\n      for (let i = 0; i < orders.length; ++i) {\n        cumMaxSellAmount += orders[i].ymax\n      }\n      return cumMaxSellAmount + this.mapAMMXToMinY(x)\n    },\n    // Minimum y for a given x coord (assuming du=0).\n    mapXToMinY (x, orders) {\n      return this.mapAToY(this.mapXToMinA(x, orders), x)\n    },\n    // Maximum y (for any given x coord).\n    maxY () {\n      const x = this.mapPiToX(this.orders[this.orders.length - 1].pi)\n      return this.mapXToMaxY(x)\n    },\n    maxX () {\n      return Math.max(this.argMinY(), this.argMaxY())\n    },\n    // x corresponding to the minimum y.\n    argMinY () {\n      return this.mapPiToX(this.orders[0].pi)\n    },\n    // Minimum contribution of the AMM (in yy axis) for given x.\n    mapAMMXToMinY (x) {\n      return this.ammIsMandatory ? this.mapAMMXToY(x) : 0\n    },\n    curveYHelper (startX, endX, offsetFn, cumMaxSellAmount, includesEnd, f) {\n      const r = []\n      const test = startX <= endX ? x => x < endX : x => x > endX\n      for (let x = startX; test(x); x = offsetFn(x)) {\n        const ammY = f(x)\n        const y = this.mapAToY(cumMaxSellAmount, x) + ammY\n        r.push([x, y])\n      }\n      if (includesEnd) {\n        const ammY = f(endX)\n        const y = this.mapAToY(cumMaxSellAmount, endX) + ammY\n        r.push([endX, y])\n      }\n      return r\n    },\n    // Interpolates curves differently depending if the xx scale is logarithmitic.\n    curveY (startX, endX, cumMaxSellAmount, includesEnd, f) {\n      const xxIsLog = false\n      if (!xxIsLog) {\n        const maxAbsDx = 1.05\n        const dx = startX <= endX\n          ? Math.min(maxAbsDx, endX / startX)\n          : Math.max(1 / maxAbsDx, endX / startX)\n        const offsetFn = x => x * dx\n        return this.curveYHelper(startX, endX, offsetFn, cumMaxSellAmount, includesEnd, f)\n      } else {\n        // FIXME: should be based on screen width and not logical width\n        const maxAbsDx = 0.1\n        const dx = startX <= endX\n          ? Math.min(maxAbsDx, endX - startX)\n          : Math.max(-maxAbsDx, endX - startX)\n        const offsetFn = x => x + dx\n        return this.curveYHelper(startX, endX, offsetFn, cumMaxSellAmount, includesEnd, f)\n      }\n    },\n    verticesFromOrderIntra (fromOrderIdx, cumMaxSellAmount, endX, includesEnd) {\n      const startX = this.mapPiToX(this.orders[fromOrderIdx].pi)\n      return this.curveY(startX, endX, cumMaxSellAmount, includesEnd, this.mapAMMXToMinY)\n    },\n    verticesFromOrder (fromOrderIdx, cumMaxSellAmount, endX, includesEnd) {\n      const startX = this.mapPiToX(this.orders[fromOrderIdx].pi)\n      const ammY = this.mapAMMXToMinY(startX)\n      const y = this.mapAToY(cumMaxSellAmount, startX) + ammY\n      const r = [[startX, y]]\n      if (includesEnd) {\n        const ammY = this.mapAMMXToMinY(endX)\n        const y = this.mapAToY(cumMaxSellAmount, endX) + ammY\n        r.push([endX, y])\n      }\n      return r\n    },\n    vertices (includeIntraOrder = false) {\n      let cumMaxSellAmount = 0\n      let data = []\n      const verticesFromOrder = includeIntraOrder\n        ? this.verticesFromOrderIntra\n        : this.verticesFromOrder\n      for (let i = 0; i < this.orders.length; ++i) {\n        const x = this.mapPiToX(this.orders[i].pi)\n        const ammMinY = this.mapAMMXToMinY(x)\n        const y = this.mapAToY(cumMaxSellAmount, x) + ammMinY\n        data.push([x, y])\n        cumMaxSellAmount += this.orders[i].ymax\n\n        const isLastOrder = i === this.orders.length - 1\n        const nextX = isLastOrder ? this.argMaxY : this.mapPiToX(this.orders[i + 1].pi)\n        const vs = verticesFromOrder(i, cumMaxSellAmount, nextX, isLastOrder)\n        data = data.concat(vs)\n      }\n      return data\n    },\n    collectOrdersBeforeX (x, strict = true) {\n      let cmp\n      if (this.increasing()) {\n        cmp = strict ? (x, y) => x < y : (x, y) => x <= y\n      } else {\n        cmp = strict ? (x, y) => x > y : (x, y) => x >= y\n      }\n      return this.orders.filter(o => cmp(this.mapPiToX(o.pi), x))\n    },\n    pathVertices () {\n      if (this.orders.length === 0) {\n        return []\n      }\n      const vs = this.vertices(true)\n      const x = this.mapAMMToX()\n\n      // Find the first vertex affected by the AMM.\n      let idx\n      if (this.increasing()) {\n        idx = vs.findIndex(v => v[0] > x)\n      } else {\n        idx = vs.findIndex(v => v[0] < x)\n      }\n\n      // If not found or is the first one, then return vs.\n      if (idx <= 0) return vs\n\n      const y = this.mapXToMinY(x, this.collectOrdersBeforeX(x, false))\n      const pt = [x, y]\n      vs.splice(idx, 0, pt)\n      return vs\n    },\n    ammPathVertices () {\n      const x = this.mapAMMToX()\n      if (this.ammIsMandatory) {\n        return this.curveY(x, this.argMaxY, 0, true, this.mapAMMXToY)\n      } else {\n        const vs = this.pathVertices()\n        let idx = vs.findIndex(v => v[0] === x)\n        idx = Math.max(idx, 1)\n        for (let vi = idx; vi < vs.length; ++vi) {\n          vs[vi][1] += this.mapAMMXToY(vs[vi][0])\n        }\n        return vs\n      }\n    },\n    shade () {\n      if (this.ammIsMandatory) {\n        let vs = this.pathVertices()\n        vs.push([this.argMaxY, 0])\n        const x = this.mapAMMToX()\n        vs.push([x, 0])\n        const firstOrderX = this.mapPiToX(this.orders[0].pi)\n        vs = vs.concat(this.curveY(x, firstOrderX, 0, false, this.mapAMMXToY))\n        return util.verticesToSvgPath(vs)\n      } else {\n        const vs = this.ammPathVertices()\n        vs.push([this.argMaxY, 0])\n        return util.verticesToSvgPath(vs)\n      }\n    },\n    path () {\n      const vs = this.pathVertices()\n      return util.verticesToSvgPath(vs)\n    },\n    ammPath () {\n      const vs = this.ammPathVertices()\n      return util.verticesToSvgPath(vs)\n    },\n    orderVertices () {\n      const data = this.vertices(false)\n      return data.splice(0, data.length - 1)\n    },\n    onMouseUp () {\n      this.draggingVertex = null\n      this.$root.$el.removeEventListener('mousemove', this.moveVertex)\n      this.bus.$emit('arg-min-y-changed', this.argMinY())\n      this.bus.$emit('max-y-changed', this.maxY())\n    },\n    dragVertex (index, event) {\n      this.draggingVertex = index\n      this.$root.$el.addEventListener('mousemove', this.moveVertex)\n    },\n    moveVertex (event) {\n      const ptSvg = this.$parent.dom2svg(\n        event.clientX,\n        event.clientY\n      )\n      if (this.draggingVertex % 2 === 0) {\n        const orderIdx = this.draggingVertex / 2\n        let x = ptSvg[0]\n        if (this.increasing()) {\n          const minX = orderIdx === 0 ? 0 : this.mapPiToX(this.orders[orderIdx - 1].pi)\n          x = Math.max(x, minX)\n          if (orderIdx < this.orders.length - 1) {\n            x = Math.min(x, this.mapPiToX(this.orders[orderIdx + 1].pi))\n          }\n        } else {\n          const minX = orderIdx < this.orders.length - 1 ? this.mapPiToX(this.orders[orderIdx + 1].pi) : 0\n          x = Math.max(x, minX)\n          if (orderIdx > 0) {\n            x = Math.min(x, this.mapPiToX(this.orders[orderIdx - 1].pi))\n          }\n        }\n        const pi = this.mapXToPi(x)\n        this.bus.$emit('pi-changed', orderIdx, pi)\n      } else {\n        const orderIdx = (this.draggingVertex - 1) / 2\n        const x = this.mapPiToX(this.orders[orderIdx].pi)\n        const minCumY = this.mapXToMinY(x, this.orders.slice(0, orderIdx))\n        const maxCumY = ptSvg[1]\n        const ymax = Math.max(this.mapYToA(maxCumY - minCumY, x), MIN_YMAX)\n        this.bus.$emit('ymax-changed', orderIdx, ymax)\n      }\n    }\n  },\n  computed: {\n    cssVars () {\n      return {\n        '--color': this.color\n      }\n    }\n  },\n  created () {\n    window.addEventListener('mouseup', this.onMouseUp)\n  },\n  destroyed () {\n    window.removeEventListener('mouseup', this.onMouseUp)\n  },\n  mounted () {\n    this.bus.$emit('arg-min-y-changed', this.argMinY())\n    this.bus.$emit('max-y-changed', this.maxY())\n  },\n  watch: {\n    orders () {\n      this.bus.$emit('arg-min-y-changed', this.argMinY())\n      this.bus.$emit('max-y-changed', this.maxY())\n    }\n  }\n}\n\n</script>\n\n<style scoped>\n.vertex {\n  stroke: var(--color);\n  stroke-linecap:round;\n  stroke-width:10px;\n  vector-effect: non-scaling-stroke;\n  cursor:grab;\n}\n.amm-path {\n  stroke: var(--color);\n  fill: none;\n  stroke-dasharray: 5;\n  pointer-events: none;\n}\n.shade {\n  stroke: none;\n  fill: var(--color);\n  fill-opacity: 0.1;\n  pointer-events: none;\n}\n.path {\n  stroke: var(--color);\n  fill: none;\n  vector-effect: non-scaling-stroke;\n  stroke-width: 2px;\n  pointer-events: none;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Orders.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Orders.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Orders.vue?vue&type=template&id=ef3c7d4a&scoped=true&\"\nimport script from \"./Orders.vue?vue&type=script&lang=js&\"\nexport * from \"./Orders.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Orders.vue?vue&type=style&index=0&id=ef3c7d4a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ef3c7d4a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('g',[_c('line',{ref:\"marginalXRate\",staticClass:\"vertex\",attrs:{\"x1\":_vm.marginalXRate,\"y1\":0,\"x2\":_vm.marginalXRate,\"y2\":0,\"vector-effect\":\"non-scaling-stroke\"},on:{\"mousedown\":_vm.dragVertex}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <g>\n  <line ref=\"marginalXRate\"\n    :x1=\"marginalXRate\" :y1=\"0\" :x2=\"marginalXRate\" :y2=\"0\"\n    class=\"vertex\" vector-effect=\"non-scaling-stroke\"\n    @mousedown=\"dragVertex\"\n  />\n  </g>\n</template>\n\n<script>\n\nexport default {\n  name: 'AMM',\n  props: {\n    marginalXRate: {\n      type: Number\n    },\n    bus: {\n      type: Object\n    }\n  },\n  data () {\n    return {\n      isDragging: false\n    }\n  },\n  methods: {\n    dragVertex () {\n      this.isDragging = true\n      this.$root.$el.addEventListener('mousemove', this.moveVertex)\n    },\n    onMouseUp () {\n      this.isDragging = false\n      this.$root.$el.removeEventListener('mousemove', this.moveVertex)\n      this.bus.$emit('arg-min-y-changed', this.marginalXRate)\n    },\n    moveVertex (event) {\n      const ptSvg = this.$parent.dom2svg(\n        event.clientX,\n        event.clientY\n      )\n      this.bus.$emit('marginal-xrate-changed', ptSvg[0])\n    }\n  },\n  created () {\n    window.addEventListener('mouseup', this.onMouseUp)\n  },\n  destroyed () {\n    window.removeEventListener('mousemove', this.onMouseUp)\n  },\n  mounted () {\n    this.bus.$emit('arg-min-y-changed', this.marginalXRate)\n  }\n}\n</script>\n\n<style scoped>\n.vertex {\n  stroke:rgb(44,160,44);\n  stroke-linecap:round;\n  stroke-width:10px;\n  vector-effect:\"non-scaling-stroke\";\n  cursor:grab;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AMM.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AMM.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AMM.vue?vue&type=template&id=b6690710&scoped=true&\"\nimport script from \"./AMM.vue?vue&type=script&lang=js&\"\nexport * from \"./AMM.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AMM.vue?vue&type=style&index=0&id=b6690710&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b6690710\",\n  null\n  \n)\n\nexport default component.exports","\n// orange sells t1\n// blue sells t2\n\nexport const REFERENTIALS = {\n  // yy displays amount of token 1\n  // xx displays price of token 1\n  // => token 2 is the reference token, i.e. p(t2) = 1\n  X1Y1: {\n    ordersSellingT2: {\n      mapAToY: (a, x) => a / x,\n      mapYToA: (y, x) => y * x,\n      mapPiToX: pi => pi,\n      mapXToPi: x => x,\n      mapAMMToX: amm => amm.b2 / amm.b1,\n      mapAMMXToY: (amm, x) => Math.max(0, amm.b2 / x - amm.b1),\n      increasing: false\n    },\n    ordersSellingT1: {\n      mapAToY: (a, x) => a,\n      mapYToA: (y, x) => y,\n      mapPiToX: pi => 1 / pi,\n      mapXToPi: x => 1 / x,\n      mapAMMToX: amm => amm.b2 / amm.b1,\n      mapAMMXToY: (amm, x) => Math.max(0, -amm.b2 / x + amm.b1),\n      increasing: true\n    }\n  },\n\n  // yy displays amount of token 2\n  // xx displays price of token 1\n  // => token 2 is the reference token, i.e. p(t2) = 1\n  X1Y2: {\n    ordersSellingT2: {\n      mapAToY: (a, x) => a,\n      mapYToA: (y, x) => y,\n      mapPiToX: pi => pi,\n      mapXToPi: x => x,\n      mapAMMToX: amm => amm.b2 / amm.b1,\n      mapAMMXToY: (amm, x) => Math.max(0, amm.b2 - amm.b1 * x),\n      increasing: false\n    },\n    ordersSellingT1: {\n      mapAToY: (a, x) => a * x,\n      mapYToA: (y, x) => y / x,\n      mapPiToX: pi => 1 / pi,\n      mapXToPi: x => 1 / x,\n      mapAMMToX: amm => amm.b2 / amm.b1,\n      mapAMMXToY: (amm, x) => Math.max(0, -amm.b2 + amm.b1 * x),\n      increasing: true\n    }\n  },\n\n  // yy displays volume: amount(T1)*p(T1) = amount(T2)*p(T2)\n  // xx displays p(T1)/p(T2)\n  // assumes 0.5 * p(token 1) + 0.5 * p(token 2) = 1, i.e.\n  // xrate{T1->T2} = p(T1)/p(T2) = 2/p(T2) - 1 = p(T1)/(2 - p(T1))\n  X12YV: {\n    ordersSellingT2: {\n      mapAToY: (a, x) => a / x * 2 / (1 + x),\n      mapYToA: (y, x) => y / (2 / (1 + x)) * x,\n      mapPiToX: pi => pi,\n      mapXToPi: x => x,\n      mapAMMToX: amm => amm.b2 / amm.b1,\n      mapAMMXToY: (amm, x) => Math.max(0, (amm.b2 / x - amm.b1) * 2 / (1 + x)),\n      increasing: false\n    },\n    ordersSellingT1: {\n      mapAToY: (a, x) => a * (2 * x) / (1 + x),\n      mapYToA: (y, x) => y / ((2 * x) / (1 + x)),\n      mapPiToX: pi => 1 / pi,\n      mapXToPi: x => 1 / x,\n      mapAMMToX: amm => amm.b2 / amm.b1,\n      mapAMMXToY: (amm, x) => Math.max(0, (-amm.b2 / x + amm.b1) * (2 * x) / (1 + x)),\n      increasing: true\n    }\n  },\n\n  // yy displays amount of token 1\n  // xx displays price of token 2\n  // => token 1 is the reference token, i.e. p(t1) = 1\n  X2Y1: {\n    ordersSellingT2: {\n      mapAToY: (a, x) => a * x,\n      mapYToA: (y, x) => y / x,\n      mapPiToX: pi => 1 / pi,\n      mapXToPi: x => 1 / x,\n      mapAMMToX: amm => amm.b1 / amm.b2,\n      mapAMMXToY: (amm, x) => Math.max(0, -amm.b1 + amm.b2 * x),\n      increasing: true\n    },\n    ordersSellingT1: {\n      mapAToY: (a, x) => a,\n      mapYToA: (y, x) => y,\n      mapPiToX: pi => pi,\n      mapXToPi: x => x,\n      mapAMMToX: amm => amm.b1 / amm.b2,\n      mapAMMXToY: (amm, x) => Math.max(0, amm.b1 - amm.b2 * x),\n      increasing: false\n    }\n  },\n\n  // yy displays amount of token 2\n  // xx displays price of token 2\n  // => token 1 is the reference token, i.e. p(t1) = 1\n  X2Y2: {\n    ordersSellingT2: {\n      mapAToY: (a, x) => a,\n      mapYToA: (y, x) => y,\n      mapPiToX: pi => 1 / pi,\n      mapXToPi: x => 1 / x,\n      mapAMMToX: amm => amm.b1 / amm.b2,\n      mapAMMXToY: (amm, x) => Math.max(0, -amm.b1 / x + amm.b2),\n      increasing: true\n    },\n    ordersSellingT1: {\n      mapAToY: (a, x) => a / x,\n      mapYToA: (y, x) => y / x,\n      mapPiToX: pi => pi,\n      mapXToPi: x => x,\n      mapAMMToX: amm => amm.b1 / amm.b2,\n      mapAMMXToY: (amm, x) => Math.max(0, amm.b1 / x - amm.b2),\n      increasing: false\n    }\n  }\n}\n","<template>\n<svg ref=\"svgCanvas\" width=\"100%\" height=\"100%\" :viewBox=\"`0 0 ${maxX} ${maxY}`\" transform=\"scale(1,-1)\" preserveAspectRatio=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <rect x=\"0\" y=\"0\" width=\"100%\" height=\"100%\" fill=\"transparent\" stroke=\"black\" vector-effect=\"non-scaling-stroke\"/>\n    <orders\n      ref=\"ordersSellingT2\"\n      :arg-max-y=\"ordersSellingT2ArgMaxY\"\n      :orders=\"ordersSellingT2\"\n      :amm=\"amm\"\n      :amm-is-mandatory=\"ammIsMandatory\"\n      :bus=\"bus2\"\n      :referential=\"ordersSellingT2Referential\"\n      color=\"rgb(31,119,180)\"\n    />\n    <orders\n      ref=\"ordersSellingT1\"\n      :arg-max-y=\"ordersSellingT1ArgMaxY\"\n      :orders=\"ordersSellingT1\"\n      :amm=\"amm\"\n      :amm-is-mandatory=\"ammIsMandatory\"\n      :bus=\"bus1\"\n      :referential=\"ordersSellingT1Referential\"\n      color=\"rgb(255, 127, 14)\"\n    />\n    <a-m-m ref=\"amm\" :marginal-x-rate=\"marginalXRate\" :bus=\"busAMM\"/>\n</svg>\n</template>\n\n<script>\nimport Vue from 'vue'\nimport Orders from './Orders.vue'\nimport AMM from './AMM.vue'\nimport { REFERENTIALS } from '../referentials.js'\n\nexport default {\n  name: 'VolumeXRateChart',\n  components: { Orders, AMM },\n  props: {\n    bus: {\n      type: Object\n    },\n    instance: {\n      type: Object\n    },\n    referential: {\n      type: String\n    }\n  },\n  data: () => ({\n    bus2: new Vue(),\n    bus1: new Vue(),\n    busAMM: new Vue(),\n    ammIsMandatory: false,\n    amm: {\n      b1: 1,\n      b2: 1,\n      mandatory: false\n    },\n    ordersSellingT1: [{\n      pi: 0.3,\n      ymax: 0.5\n    }, {\n      pi: 1,\n      ymax: 2\n    }],\n    ordersSellingT2: [{\n      pi: 5,\n      ymax: 1\n    }, {\n      pi: 2,\n      ymax: 0.5\n    }],\n    maxX: 100,\n    maxY: 100\n  }),\n  methods: {\n    dom2svg (x, y) {\n      const svg = this.$refs.svgCanvas\n      const pt = svg.createSVGPoint()\n\n      pt.x = x\n      pt.y = y\n      const svgP = pt.matrixTransform(svg.getScreenCTM().inverse())\n      return [svgP.x, svgP.y]\n    },\n    svg2dom (x, y) {\n      const svg = this.$refs.svgCanvas\n      const pt = svg.createSVGPoint()\n\n      pt.x = x\n      pt.y = y\n      const domP = pt.matrixTransform(svg.getScreenCTM())\n      return [domP.x, domP.y]\n    },\n    updateData (instance) {\n      const ordersSellingT2 = instance.ordersSellingT2.map(o => ({\n        ymax: o.sellAmount,\n        pi: o.sellAmount / o.buyAmount\n      })).sort((o1, o2) => o2.pi - o1.pi)\n\n      const ordersSellingT1 = instance.ordersSellingT1.map(o => ({\n        ymax: o.sellAmount,\n        pi: o.sellAmount / o.buyAmount\n      })).sort((o1, o2) => o2.pi - o1.pi)\n\n      const amm = {\n        b1: instance.amm.balanceT1,\n        b2: instance.amm.balanceT2\n      }\n\n      amm.k = amm.b1 * amm.b2\n\n      this.ordersSellingT2 = ordersSellingT2\n      this.ordersSellingT1 = ordersSellingT1\n      this.amm = amm\n      this.ammIsMandatory = instance.amm.mandatory\n    },\n    updatedInstance () {\n      const instance = {}\n      instance.ordersSellingT2 = this.ordersSellingT2.map(o => ({\n        sellAmount: o.ymax,\n        buyAmount: o.ymax / o.pi\n      }))\n      instance.ordersSellingT1 = this.ordersSellingT1.map(o => ({\n        sellAmount: o.ymax,\n        buyAmount: o.ymax / o.pi\n      }))\n      instance.amm = {\n        balanceT1: this.amm.b1,\n        balanceT2: this.amm.b2,\n        mandatory: this.ammIsMandatory\n      }\n      return instance\n    }\n  },\n  computed: {\n    ordersSellingT1Referential () {\n      return REFERENTIALS[this.referential].ordersSellingT1\n    },\n    ordersSellingT2Referential () {\n      return REFERENTIALS[this.referential].ordersSellingT2\n    },\n    marginalXRate () {\n      return (this.referential === 'X1Y1' || this.referential === 'X12YV' || this.referential === 'X1Y2')\n        ? this.amm.b2 / this.amm.b1\n        : this.amm.b1 / this.amm.b2\n    },\n    ordersSellingT1ArgMaxY () {\n      return this.ordersSellingT1Referential.increasing ? this.maxX : 0.001\n    },\n    ordersSellingT2ArgMaxY () {\n      return this.ordersSellingT2Referential.increasing ? this.maxX : 0.001\n    }\n  },\n  created () {\n    // to avoid accumulating round-off errors while moving the amm\n    this.amm.k = this.amm.b1 * this.amm.b2\n\n    this.bus1.$on('max-y-changed', maxY => {\n      if (this.$refs.ordersSellingT2 !== undefined) {\n        maxY = Math.max(maxY, this.$refs.ordersSellingT2.maxY())\n      }\n      this.maxY = maxY * 1.1\n      this.bus.$emit('instance-changed', this.updatedInstance())\n    })\n    this.bus2.$on('max-y-changed', maxY => {\n      if (this.$refs.ordersSellingT1 !== undefined) {\n        maxY = Math.max(maxY, this.$refs.ordersSellingT1.maxY())\n      }\n      this.maxY = maxY * 1.1\n      this.bus.$emit('instance-changed', this.updatedInstance())\n    })\n\n    this.bus1.$on('pi-changed', (orderIdx, pi) => {\n      this.ordersSellingT1[orderIdx].pi = pi\n    })\n    this.bus2.$on('pi-changed', (orderIdx, pi) => {\n      this.ordersSellingT2[orderIdx].pi = pi\n    })\n\n    this.bus1.$on('ymax-changed', (orderIdx, ymax) => {\n      this.ordersSellingT1[orderIdx].ymax = ymax\n    })\n    this.bus2.$on('ymax-changed', (orderIdx, ymax) => {\n      this.ordersSellingT2[orderIdx].ymax = ymax\n    })\n\n    this.bus1.$on('arg-min-y-changed', maxX => {\n      this.maxX = Math.max(\n        maxX,\n        this.$refs.ordersSellingT2.argMinY(),\n        this.marginalXRate\n      ) * 1.1\n    })\n    this.bus2.$on('arg-min-y-changed', maxX => {\n      this.maxX = Math.max(\n        maxX,\n        this.$refs.ordersSellingT1.argMinY(),\n        this.marginalXRate\n      ) * 1.1\n    })\n\n    this.busAMM.$on('marginal-xrate-changed', marginalXRate => {\n      let b1, b2\n      if (this.referential === 'X1Y1' || this.referential === 'X12YV' || this.referential === 'X1Y2') {\n        b1 = Math.sqrt(this.amm.k / marginalXRate)\n        b2 = this.amm.k / b1\n      } else {\n        b2 = Math.sqrt(this.amm.k / marginalXRate)\n        b1 = this.amm.k / b2\n      }\n      this.amm.b1 = b1\n      this.amm.b2 = b2\n    })\n  },\n  watch: {\n    instance (newval, oldval) {\n      this.updateData(newval)\n    },\n    referential (newval, oldval) {\n      this.updateData(this.instance)\n    }\n  },\n  mounted () {\n    this.updateData(this.instance)\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VolumeXRateChart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VolumeXRateChart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VolumeXRateChart.vue?vue&type=template&id=79fbde16&\"\nimport script from \"./VolumeXRateChart.vue?vue&type=script&lang=js&\"\nexport * from \"./VolumeXRateChart.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { Validator } from 'jsonschema'\n\nconst orderJsonSchema = {\n  id: '/Order',\n  type: 'object',\n  properties: {\n    sellAmount: { type: 'number', minimum: 0 },\n    buyAmount: { type: 'number', minimum: 0, exclusiveMinimum: true }\n  },\n  required: ['sellAmount', 'buyAmount']\n}\n\nconst instanceJsonSchema = {\n  type: 'object',\n  properties: {\n    ordersSellingT1: {\n      type: 'array',\n      required: true,\n      length: {\n        min: 1\n      },\n      items: {\n        $ref: '/Order'\n      }\n    },\n    ordersSellingT2: {\n      type: 'array',\n      required: true,\n      length: {\n        min: 1\n      },\n      items: {\n        $ref: '/Order'\n      }\n    },\n    amm: {\n      type: 'object',\n      required: true,\n      properties: {\n        balanceT1: {\n          type: 'number',\n          required: true,\n          minimum: 0,\n          exclusiveMinimum: true\n        },\n        balanceT2: {\n          type: 'number',\n          required: true,\n          minimum: 0,\n          exclusiveMinimum: true\n        },\n        mandatory: {\n          type: 'boolean',\n          required: true\n        }\n      }\n    }\n  }\n}\n\nexport function validateInstanceJson (instance) {\n  var v = new Validator()\n  v.addSchema(orderJsonSchema, '/Order')\n  const result = v.validate(instance, instanceJsonSchema)\n  return result\n}\n","<template>\n  <v-app>\n    <v-main>\n      <v-container fill-height class='ma-0' fluid>\n        <v-row>\n          <v-col cols='8'>\n            <v-row>\n              <v-col class='pt-0 pb-0 pr-0' style='height:50vh;'>\n                <volume-x-rate-chart v-if='validationErrors.length === 0' :instance='instance' :bus='bus' :referential='referential'/>\n                <p v-for='(e, idx) in validationErrors' :key='idx'>\n                  {{ e.stack }}\n                </p>\n              </v-col>\n            </v-row>\n            <v-row>\n              <v-col>\n                <v-radio-group v-model=\"referential\">\n                  <v-radio label=\"xx is price of T1, yy is sell amount of T1\" value=\"X1Y1\"></v-radio>\n                  <v-radio label=\"xx is price of T1, yy is sell amount of T2\" value=\"X1Y2\"></v-radio>\n                  <v-radio label=\"xx is price of T2, yy is sell amount of T1\" value=\"X2Y1\"></v-radio>\n                  <v-radio label=\"xx is price of T2, yy is sell amount of T2\" value=\"X2Y2\"></v-radio>\n                  <v-radio label=\"xx is xrate [p(T1)/p(T2)], yy is volume [amount of TX * price of TX]\" value=\"X12YV\"></v-radio>\n                </v-radio-group>\n                <p>Orders selling T1 are orange, orders selling T2 are blue.</p>\n              </v-col>\n            </v-row>\n          </v-col>\n          <v-col cols='4'>\n            <vue-json-editor\n              v-model='instance'\n              :show-btns='false'\n              :expandedOnStart='true'\n              mode='form'\n              @json-change='onInstanceChange'\n            />\n          </v-col>\n        </v-row>\n      </v-container>\n    </v-main>\n  </v-app>\n</template>\n\n<script>\nimport Vue from 'vue'\n\nimport VolumeXRateChart from './components/VolumeXRateChart'\nimport vueJsonEditor from 'vue-json-editor'\nimport { validateInstanceJson } from './instance.js'\n\nexport default {\n  name: 'App',\n\n  components: {\n    VolumeXRateChart, vueJsonEditor\n  },\n\n  data: () => ({\n    validationErrors: [],\n    bus: new Vue(),\n    referential: 'X1Y1',\n    instance: {\n      ordersSellingT1: [\n        {\n          sellAmount: 0.5,\n          buyAmount: 0.15\n        },\n        {\n          sellAmount: 2,\n          buyAmount: 2\n        }\n      ],\n      ordersSellingT2: [\n        {\n          sellAmount: 1,\n          buyAmount: 0.2\n        },\n        {\n          sellAmount: 0.5,\n          buyAmount: 0.25\n        }\n      ],\n      amm: {\n        balanceT1: 1,\n        balanceT2: 1,\n        mandatory: true\n      }\n    }\n  }),\n  methods: {\n    onInstanceChange (json) {\n      const result = validateInstanceJson(json)\n      this.validationErrors = result.errors\n    }\n  },\n  mounted () {\n    this.bus.$on('instance-changed', newInstance => {\n      if (JSON.stringify(newInstance) === JSON.stringify(this.instance)) {\n        return\n      }\n      this.instance = newInstance\n    })\n  }\n}\n</script>\n\n<style>\n.jsoneditor-vue {\n  height: 95vh;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=3192e455&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VMain } from 'vuetify/lib/components/VMain';\nimport { VRadio } from 'vuetify/lib/components/VRadioGroup';\nimport { VRadioGroup } from 'vuetify/lib/components/VRadioGroup';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VApp,VCol,VContainer,VMain,VRadio,VRadioGroup,VRow})\n","import '@mdi/font/css/materialdesignicons.css' // Ensure you are using css-loader\nimport Vue from 'vue'\nimport Vuetify from 'vuetify/lib'\n\nVue.use(Vuetify)\n\nexport default new Vuetify({\n})\n","import Vue from 'vue'\nimport App from './App.vue'\nimport vuetify from './plugins/vuetify'\n\nVue.config.productionTip = false\n\nnew Vue({\n  vuetify,\n  render: h => h(App)\n}).$mount('#app')\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AMM.vue?vue&type=style&index=0&id=b6690710&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AMM.vue?vue&type=style&index=0&id=b6690710&scoped=true&lang=css&\""],"sourceRoot":""}